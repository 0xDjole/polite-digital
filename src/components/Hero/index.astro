---
import { Icon } from "astro-icon/components";
import { cmsApi, getBlockFromArray, getBlockObjectValues } from "@lib/index";
import Button from "@components/Button/Button.astro";
import { getLocale } from "@lib/i18n";

const currLocale = getLocale(Astro.currentLocale);

const { getCollection, getImageUrl } = cmsApi();
const websiteCollection = await getCollection("website");

const info = getBlockFromArray(websiteCollection, "info", currLocale);

const heroTitle = info.heroTitle;
const heroSubtitle = info.heroSubtitle;
const heroImage = info.heroImage;
---

<section id="hero" class="relative mt-[80px] h-[80vh] w-full overflow-hidden">
	<!-- fullâ€‘bleed image -->
	<img
		id="hero-img"
		src={heroImage ? getImageUrl(heroImage, false) : "/images/default-hero.jpg"}
		alt={heroTitle}
		class="absolute inset-0 h-full w-full object-cover opacity-0"
		loading="lazy"
		referrerpolicy="no-referrer"
	/>

	<div
		class="relative z-10 flex h-full w-full flex-col items-center justify-center px-4 text-center text-white"
		id="hero-content"
	>
		<h1
			class="hero-title opacity-0 bg-gradient-to-r from-white to-gray-200 bg-clip-text pb-2 text-3xl font-semibold text-transparent sm:text-4xl md:text-5xl lg:text-6xl"
			data-delay="0.4"
		>
			{heroTitle}
		</h1>
		<p class="hero-subtitle opacity-0 mx-auto mt-2 max-w-md md:max-w-lg" data-delay="0.6">
			{heroSubtitle}
		</p>
	</div>
</section>

<script src="./index.ts"></script>
