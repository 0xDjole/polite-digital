---
import BaseLayout from "@layouts/BaseLayout.astro";
import { cmsApi, getBlockFromArray } from "@lib/index";
import { defaultLocale, locales } from "@lib/i18n";

export function getStaticPaths() {
	return locales.map((locale) => ({
		params: {
			locale: locale === defaultLocale ? undefined : locale,
		},
		props: { locale },
	}));
}

const { locale = defaultLocale } = Astro.props;

const { getCollection, getBlockObjectValues } = cmsApi();
const websiteCollection = await getCollection("website");

const siteData = getBlockFromArray(websiteCollection, "info", locale);

// Featured projects with high-quality images
const projects = [
	{
		id: 1,
		title: "E-commerce Platform",
		category: "Web Development",
		image: "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop&crop=center",
		description: "Modern e-commerce solution with advanced filtering and seamless checkout experience.",
		tags: ["React", "Node.js", "MongoDB"],
		url: "#"
	},
	{
		id: 2,
		title: "Brand Identity Design",
		category: "Branding",
		image: "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=600&fit=crop&crop=center",
		description: "Complete brand identity redesign for a tech startup including logo, guidelines, and marketing materials.",
		tags: ["Design", "Branding", "Figma"],
		url: "#"
	},
	{
		id: 3,
		title: "Mobile Banking App",
		category: "Mobile Development",
		image: "https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=800&h=600&fit=crop&crop=center",
		description: "Secure and intuitive mobile banking application with biometric authentication and real-time notifications.",
		tags: ["React Native", "Firebase", "Fintech"],
		url: "#"
	},
	{
		id: 4,
		title: "SaaS Dashboard",
		category: "Web Development",
		image: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop&crop=center",
		description: "Comprehensive analytics dashboard for SaaS companies with real-time data visualization.",
		tags: ["Vue.js", "D3.js", "API"],
		url: "#"
	},
	{
		id: 5,
		title: "Restaurant Chain Website",
		category: "Web Development",
		image: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop&crop=center",
		description: "Multi-location restaurant website with online ordering and reservation system.",
		tags: ["Astro", "Tailwind", "CMS"],
		url: "#"
	},
	{
		id: 6,
		title: "Fitness App UI/UX",
		category: "UI/UX Design",
		image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&h=600&fit=crop&crop=center",
		description: "Complete UI/UX design for a fitness tracking app with gamification elements.",
		tags: ["Figma", "Prototyping", "User Research"],
		url: "#"
	}
];
---

<BaseLayout title="Our Work" description="Explore our portfolio of innovative digital solutions and creative projects.">
	<main class="min-h-screen bg-primary">
		<!-- Hero Section -->
		<section class="overflow-hidden pt-32 pb-20">
			<div class="site-container ">
				<div class="max-w-4xl mx-auto text-center">
					<h1 class="text-6xl md:text-8xl font-bold main-text-gradient mb-8 leading-tight">
						Our Work
					</h1>
					<p class="text-xl md:text-2xl text-secondary leading-relaxed max-w-3xl mx-auto">
						Crafting exceptional digital experiences that push boundaries and inspire innovation. Each project tells a story of creativity, technology, and meticulous attention to detail.
					</p>
				</div>
			</div>
		</section>
		<!-- Projects Showcase -->
		<section  class="project-showcase">
				{projects.map((project, index) => (
					<div class="box h-screen overflow-hidden relative" data-project={index}>
						<!-- Full viewport image -->
						<div class="absolute inset-0 z-10">
							<img 
								src={project.image} 
								alt={project.title}
								class="w-full h-full object-cover object-center"
								loading="lazy"
							/>
							<div class="absolute inset-0 bg-gradient-to-r from-black/60 to-black/30 z-20"></div>
						</div>
						
					</div>

				))}
		</section>

	</main>


</BaseLayout>

<style>
.box {
}
</style>

<script>
	import { gsap, ScrollTrigger } from "../../lib/gsap-init.js";
	
	// Simple fade in animation on page load
	gsap.fromTo("h1", 
		{ opacity: 0, y: 50 }, 
		{ opacity: 1, y: 0, duration: 1, ease: "power2.out" }
	);
	


gsap.from(".box", {
  scrollTrigger: {
    trigger: ".project-showcase",
    pin: true,
    markers: true,
    scrub: true,
    start: "top 10%",
    end: "+=1000 top"
  },
});

</script>

